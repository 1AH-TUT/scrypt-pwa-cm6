/*──────────────────────────────────────────────────────*/
/* Courier Prime (Serif)                               */
/*────────────────────────────────────────────────────*/
@font-face {
  font-family: "Courier Prime";
  src: url("../assets/fonts/CourierPrime.woff2") format("woff2");
  font-weight: 400; font-style: normal;   font-display: swap;
}
@font-face {
  font-family: "Courier Prime";
  src: url("../assets/fonts/CourierPrime-Italic.woff2") format("woff2");
  font-weight: 400; font-style: italic;  font-display: swap;
}
@font-face {
  font-family: "Courier Prime";
  src: url("../assets/fonts/CourierPrime-Bold.woff2") format("woff2");
  font-weight: 700; font-style: normal;   font-display: swap;
}
@font-face {
  font-family: "Courier Prime";
  src: url("../assets/fonts/CourierPrime-BoldItalic.woff2") format("woff2");
  font-weight: 700; font-style: italic;  font-display: swap;
}

/*─────────────────────────────────────────────────────────*/
/* Courier Prime Sans (Serif) – TTF for now - TODO: WOFF2 */
/*───────────────────────────────────────────────────────*/
@font-face {
  font-family: "Courier Prime Sans";
  src: url("../assets/fonts/CourierPrimeSans.woff2") format("woff2");
  font-weight: 400; font-style: normal; font-display: swap;
}
@font-face {
  font-family: "Courier Prime Sans";
  src: url("../assets/fonts/CourierPrimeSans-Italic.woff2") format("woff2");
  font-weight: 400; font-style: italic; font-display: swap;
}
@font-face {
  font-family: "Courier Prime Sans";
  src: url("../assets/fonts/CourierPrimeSans-Bold.woff2") format("woff2");
  font-weight: 700; font-style: normal; font-display: swap;
}
@font-face {
  font-family: "Courier Prime Sans";
  src: url("../assets/fonts/CourierPrimeSans-BoldItalic.woff2") format("woff2");
  font-weight: 700; font-style: italic; font-display: swap;
}

/*─────────────────────────────────────────────────────────*/
/* variables                                              */
/*───────────────────────────────────────────────────────*/
:root {
  /* page-level fonts & colors */
  --bg-page:        #121212;
  --fg-page:        #eee;
  --bg-editor:      #282c34;
  --fg-editor:      #abb2bf;

    /* Screenplay editor typography */
  --font-screenplay: "Courier Prime", Courier, monospace;
  --font-ui:         "Courier Prime Sans", "Courier Prime", monospace;
  --font-size-screenplay: 12pt;
  --font-size-screenplay-title: 16pt;

  /* header */
  --bg-header:      #1e1e1e;
  --header-border:  1px solid #333;
  --header-padding: 0.5rem 1rem;

  /* sidebar */
  --app-sidebar-bg:           #1e1e1e;
  --app-sidebar-fg:           #ccc;
  --app-sidebar-width:        220px;
  --app-sidebar-width-closed: 56px;
  --app-sidebar-transition-ease:      0.2s ease;

  /* main content */
  --editor-height:     100%;
  --editor-min-height: 0;
}


/* Dark‐mode overrides */
body.dark {
  --bg-page:         #111;
  --fg-page:         #ddd;
  --bg-header:       #222;
  --header-border:   1px solid #444;
  --app-sidebar-bg:      #222;
  --app-sidebar-fg:      #ddd;
}

/* Light‐mode overrides */
/* 
body.light {
  --bg-page:         #fafafa;
  --fg-page:         #222;
  --bg-header:       #eee;
  --header-border:   1px solid #ccc;
  --app-sidebar-bg:      #f5f5f5;
  --app-sidebar-fg:      #333;
}
*/

/*─────────────────────────────────────────────────────────────────────────*/
/* 2. Base defaults for html, body                                        */
/*───────────────────────────────────────────────────────────────────────*/
/* Root fill */
html, body, #app-shell { height: 100%; margin: 0; }

/* App-shell grid: top-bar + rest */
#app-shell {
  display:grid;
  grid-template-rows: 3rem 1fr;   /* 3rem top-bar, rest fills */
  background-color: var(--bg-page);
  color:            var(--fg-page);
  font-family:      var(--font-ui);
}

/* Top bar */
#top-bar {
  display:flex; align-items:center; padding:0 1rem;
  background:var(--bg-header); color:var(--fg-page);
}

/* Three-columns inside the body row */
#body-grid {
  display:grid;
  grid-template-columns: auto 1fr auto;
  height:100%;
  overflow-x: hidden;
}

#sidebar-left[hidden],
#sidebar-right[hidden] { display: none; }


/* main view area never scrolls – individual views manage scrolling */
#view-slot {
  display: flex;
  flex-direction: column;
  overflow: hidden;
  height: 100%;
}


.editor-root,
.cm-wrapper,
.cm-editor {          /* cm-editor is CodeMirror’s outer node */
  height: 100%;
  display: flex;
  flex-direction: column;
  min-height: 0;      /* important: allow children to scroll */
}

/* .cm-wrapper provides the viewport */
.cm-wrapper { overflow: auto; }

/* centre a “page” of 8.5 in inside the viewport */
.cm-editor {
  padding: 0 1in;              /* gutters left & right    */
  box-sizing: border-box;
  max-width: 8.5in;
  margin: 0 auto;              /* horizontally centred    */
}

/* CodeMirror’s own scroller becomes the true scrollDOM */
.cm-scroller {
  flex: 1 1 auto;              /* fills .cm-wrapper */
  overflow: auto;              /* single scrollbar   */
  min-height: 0;               /* allow overflow     */
}

/*!* Editor page inner layout (3 columns) *!*/
/*.editor-page {*/
/*  display:grid;*/
/*  grid-template-columns: 1fr auto 1fr;   !* gutters – centre auto width *!*/
/*  padding:0 1rem;       !* side padding so gutters never hit edge *!*/
/*}*/

/*.editor-centre {*/
/*  max-width:8.5in;      !* screenplay width cap *!*/
/*  width:100%;*/
/*  font-size: var(--font-size-screenplay);*/
/*}*/

/*!*────────────────────────────────────────────────────────────────────────*!*/
/*!* 3. Pages                                                              *!*/
/*!*──────────────────────────────────────────────────────────────────────*!*/

/*#content-grid:has(#page-slot > .editor-page) {*/
/*  background: var(--bg-editor);*/
/*  color:      var(--fg-editor);*/
/*}*/

/*!*────────────────────────────────────────────────────────────────────────*!*/
/*!* 4. Utility classes                                                    *!*/
/*!*──────────────────────────────────────────────────────────────────────*!*/

/*.hidden {*/
/*  display: none !important;*/
/*}*/

/*!**:focus {*!*/
/*!*  outline: 2px solid cyan;*!*/
/*!*}*!*/